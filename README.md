<div align="center">

```
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó     
 ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù   ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë     
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     
 ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
 ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

> **‚öîÔ∏è Upload any Solidity contract. Fund the attacker. Watch the exploit. Fix your code.**

<br/>

[![Next.js](https://img.shields.io/badge/Next.js-14-black?style=for-the-badge&logo=next.js&logoColor=white)](https://nextjs.org)
[![Hardhat](https://img.shields.io/badge/Hardhat-2.x-F0D060?style=for-the-badge&logo=ethereum&logoColor=black)](https://hardhat.org)
[![Solidity](https://img.shields.io/badge/Solidity-0.8.x-363636?style=for-the-badge&logo=solidity)](https://soliditylang.org)
[![Flow EVM](https://img.shields.io/badge/Flow_EVM-Testnet-00EF8B?style=for-the-badge)](https://flow.com)
[![wagmi](https://img.shields.io/badge/wagmi-v2-7C3AED?style=for-the-badge)](https://wagmi.sh)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://typescriptlang.org)

<br/>

![status](https://img.shields.io/badge/status-active-22c55e?style=flat-square)
![hackathon](https://img.shields.io/badge/built_at-MakeATon_2025-6366f1?style=flat-square)
![license](https://img.shields.io/badge/license-MIT-f97316?style=flat-square)

</div>

---

## üß® What is Secure.sol?

**Secure.sol** is a realtime contract attack simulator. It doesn't just scan your code with static analysis ‚Äî it **deploys your contract to a live blockchain**, funds attacker contracts using your own wallet, and executes real exploits against them.

Upload a `.sol` file ‚Üí  attacker contracts with real attacks with tokens locally ‚Üí three classes of exploits fire against your deployed code ‚Üí you get a full security report with drain timelines, live transaction logs, a security score, and exactly what code to add to fix each vulnerability.

```
  üìÑ  Upload .sol file
        ‚Üì
  üî®  Compile with Hardhat
        ‚Üì
  üöÄ  Deploy victim + attacker contracts on-chain
        
        ‚Üì
  üíÄ  Real attacks execute ‚Äî Reentrancy, Overflow, Input Validation
        ‚Üì
  üìä  Full security report with scores, drain chart & fixes
```

---

## üí• Attack Vectors

| # | Attack                            |   Severity   | What Happens                                                                     |
|---|----------------------------------|--------------------------------------------------------------------------------------------------|
| 1 | üîÑ **Reentrancy**                 | üî¥ Critical | Recursive `.call{value}` drain before state update                                 |
| 2 | üì• **Input Validation**           | üü† High     | Withdraw full vault without verifying deposited balance                            |
| 3 | üí• **Integer Overflow**           | üü† High     | Arithmetic wrap via `unchecked {}` to underflow balances                           |
| 4 | üîê **Missing Access Control**     | üî¥ Critical | Call unguarded admin functions (`claimFees`, `changeOwner`, `setPaused`)           |
| 5 | üßæ **tx.origin Auth**             | üü† High     | Phishable auth bypass via intermediary contracts                                   |
| 6 | ‚è±Ô∏è **Block Timestamp**            | üü° Low      | Miner-manipulable timing logic                                                     |
| 7 | üìå **Floating Pragma**            | üü° Low      | Unlocked compiler version allows unexpected behaviour                              |

---

## üèóÔ∏è Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Next.js Frontend                          ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ   ‚îÇ    Upload Screen      ‚îÇ      ‚îÇ        Dashboard          ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ                      ‚îÇ      ‚îÇ                           ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ  ‚Ä¢ Drag & drop .sol  ‚îÇ      ‚îÇ  ‚Ä¢ Live drain chart       ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ  ‚Ä¢ Stand At Aweeeee  ‚îÇ      ‚îÇ  ‚Ä¢ Transaction log        ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ  ‚Ä¢ Wallet connect    ‚îÇ      ‚îÇ  ‚Ä¢ Security score ring    ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ  ‚Ä¢ Funding modal     ‚îÇ      ‚îÇ  ‚Ä¢ Attack severity bars   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ    (real wallet txs) ‚îÇ      ‚îÇ  ‚Ä¢ Vulnerability report   ‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ  HTTP REST  +  wagmi wallet signing
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Express Backend (Node.js)                    ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ   POST /upload-compile  ‚Üí  Compile .sol via Hardhat              ‚îÇ
‚îÇ   POST /deploy          ‚Üí  Deploy victim + attacker contracts    ‚îÇ
‚îÇ   POST /attack          ‚Üí  Run 3 attack scripts sequentially     ‚îÇ
‚îÇ   POST /upload          ‚Üí  All-in-one flow (localhost only)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ  child_process spawn
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Hardhat (TypeScript scripts)                   ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ   deployForAttack.ts         Deploy all 4 contracts              ‚îÇ
‚îÇ   runReentrancyUpload.ts     FlexReentrancyAttacker exploit      ‚îÇ
‚îÇ   runInputValidation.ts      InputValidationAttacker exploit      ‚îÇ
‚îÇ   runOverflowUpload.ts       OverflowAttacker exploit            ‚îÇ
‚îÇ   buildResult.ts             Normalised SimResult output         ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ   Static Analysis fallback ‚Üí regex pattern detection             ‚îÇ
‚îÇ   mergeStaticFindings()    ‚Üí enrich failed live runs             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Blockchain Networks                         ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ   üî∑  Hardhat localhost:8545    free, instant, no wallet needed  ‚îÇ  
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ Quick Start

### Prerequisites

- Node.js ‚â• 18
- Yarn
- MetaMask _(testnet mode only)_

### 1. Clone & Install

```bash
git clone https://github.com/yourusername/secure-sol.git
cd secure-sol
yarn install
```

### 2. Environment Setup

```bash

> For **testnet** runs, fund that deployer address at [faucet.flow.com](https://faucet.flow.com/fund-account)

### 3. Run (3 terminals)

```bash
# Terminal 1 ‚Äî Hardhat node (localhost only)
cd packages/hardhat
npx hardhat node

# Terminal 2 ‚Äî Backend API
cd packages/backend
yarn start

# Terminal 3 ‚Äî Frontend
cd packages/nextjs
yarn dev
```

Open [http://localhost:3000](http://localhost:3000) ¬∑ select **Hardhat** ¬∑ upload a `.sol` file ¬∑ click **Start Attack Simulation** üöÄ

---

## üåê Testnet Mode (Flow EVM)

To run real on-chain attacks with wallet signing:

1. Select **Flow** in the network bar
2. Click **Connect Wallet** (MetaMask)
3. Ensure your wallet has testnet FLOW ‚Üí [faucet.flow.com](https://faucet.flow.com/fund-account)
4. Upload your `.sol` file and click **Start Attack Simulation**
5. A **Funding Modal** appears showing exactly what each contract costs
6. Sign the transactions ‚Äî typically 2‚Äì3 MetaMask prompts
7. Attacks run against your live funded contracts on-chain

**Estimated cost per full scan: ~21 FLOW**

| Contract | Amount | Purpose |
|----------|--------|---------|
| üè¶ Victim Vault | 15 FLOW | Seeds the vault ‚Äî gives the attacker something to steal |
| üîÑ Reentrancy Attacker | 5 FLOW | Deposit before re-entering |
| üí• Overflow Attacker | 1 FLOW | Trigger arithmetic edge cases |

---

## üìÅ Project Structure

```
secure-sol/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ nextjs/                           # Next.js 14 frontend
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx                  # Upload screen + Dashboard
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ backend/                          # Express.js API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.ts                  # Route registration
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ upload.ts                 # All-in-one localhost handler
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ uploadCompile.ts          # Testnet step 1: compile only
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ deploy.ts                 # Testnet step 2: deploy contracts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ attack.ts                 # Testnet step 3: run exploits
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ hardhat/                          # Contracts + attack scripts
‚îÇ       ‚îú‚îÄ‚îÄ contracts/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ uploaded/                 # User contracts land here
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VulnerableVault.sol   # Example vulnerable contract
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ attackers/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ FlexReentrancyAttacker.sol
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ InputValidationAttacker.sol
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ OverflowAttacker.sol
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ AccessControlAttacker.sol
‚îÇ       ‚îú‚îÄ‚îÄ scripts/simulate/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ deployForAttack.ts
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ runReentrancyUpload.ts
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ runInputValidationUpload.ts
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ runOverflowUpload.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ buildResult.ts
‚îÇ       ‚îî‚îÄ‚îÄ hardhat.config.ts
```

---

## üß™ Try It With This Contract

Save as `VulnerableVault.sol` and upload ‚Äî Secure.sol will detect **6 vulnerabilities**:

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract VulnerableVault {
    mapping(address => uint256) public balances;
    address public owner;
    bool public paused;
    uint256 public feeRate;

    constructor() { owner = msg.sender; }

    // üî¥ REENTRANCY ‚Äî external call before state update
    function withdraw(uint256 _amount) external {
        require(balances[msg.sender] >= _amount);
        (bool ok,) = msg.sender.call{value: _amount}("");
        require(ok);
        balances[msg.sender] -= _amount; // ‚Üê too late!
    }

    // üü† INPUT VALIDATION ‚Äî no msg.value > 0 check
    function deposit() external payable {
        balances[msg.sender] += msg.value;
    }

    // üî¥ MISSING ACCESS CONTROL ‚Äî anyone can drain fees
    function claimFees() external {
        payable(msg.sender).transfer(address(this).balance / 10);
    }

    // üî¥ MISSING ACCESS CONTROL ‚Äî anyone can take ownership
    function changeOwner(address _o) external { owner = _o; }
    function setPaused(bool _p) external { paused = _p; }
    function setFeeRate(uint256 _r) external { feeRate = _r; }

    receive() external payable {}
}
```

---

## üîí How The Wallet Funding Flow Works

```
User clicks "Start Attack Simulation"
         ‚îÇ
         ‚ñº
POST /upload-compile ‚îÄ‚îÄ‚Üí Hardhat compiles .sol
         ‚îÇ                returns: { contractName, fileName }
         ‚ñº
POST /deploy ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Hardhat deploys victim + 3 attacker contracts
         ‚îÇ                returns: { victimAddress, attackerAddresses, fundingRequired }
         ‚ñº
 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îÇ         Funding Modal             ‚îÇ
 ‚îÇ                                   ‚îÇ
 ‚îÇ  üè¶ Victim Vault      15 FLOW ‚úÖ  ‚îÇ
 ‚îÇ  üîÑ Reentrancy         5 FLOW ‚è≥  ‚îÇ
 ‚îÇ  üí• Overflow           1 FLOW     ‚îÇ
 ‚îÇ                                   ‚îÇ
 ‚îÇ  [Cancel]  [Sign 3 Transactions]  ‚îÇ
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ  User signs each tx in MetaMask
         ‚ñº
walletClient.sendTransaction() √ó N
publicClient.waitForTransactionReceipt() per tx
         ‚îÇ
         ‚ñº
POST /attack ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Hardhat scripts attack pre-funded contracts
         ‚îÇ                env: VICTIM_ADDRESS, ATTACKER_ADDRESS
         ‚ñº
Dashboard renders live results
```

---

## üõ°Ô∏è Static Analysis Fallback

When live execution fails (no gas, RPC timeout, unfunded wallet), Secure.sol automatically falls back to **regex-based static analysis** and merges findings into the result. You always get signal.

| Pattern | Vuln Detected |
|---------|--------------|
| `.call{value:` before `balances[` update | Reentrancy |
| `function withdraw` without `require(balances[msg.sender] >=` | Input Validation |
| `claimFees`/`changeOwner`/`setPaused` without `onlyOwner` | Missing Access Control |
| `pragma solidity ^0.[0-7].` without SafeMath | Overflow |
| `tx.origin` anywhere in source | Auth Vulnerability |
| `block.timestamp` or `now` | Timestamp Dependence |
| `pragma solidity ^` | Floating Pragma |

---

## üìä Dashboard Features

| Feature | Description |
|---------|-------------|
| **Security Score Ring** | Animated 0‚Äì100 score, colour-coded by risk level |
| **Balance Drain Chart** | Real-time SVG showing ETH draining from victim contract |
| **Transaction Log** | Step-by-step table of every on-chain action with before/after balances |
| **Attack Timeline** | Animated event feed ‚Äî what happened and when |
| **Drain Rate** | ETH/ms, USD/ms, ‚Çπ/ms live conversion |
| **Attack Severity Bars** | Per-vector vulnerability score across all 5 attack types |
| **All Attack Results** | VULNERABLE / SAFE badge for each of the 3 simulation runs |
| **Vulnerability Report** | Exact explanation of what failed + code snippet to fix it |

---

## ‚öôÔ∏è Supported Networks

| Network | Type | Chain ID | Gas Token | Wallet Required |
|---------|------|----------|-----------|-----------------|
| Hardhat | Local | 31337 | ETH (free) | ‚ùå |
| Flow EVM Testnet | Testnet | 545 | FLOW | ‚úÖ |
| Sepolia | Testnet | 11155111 | ETH | ‚úÖ |
| Polygon Mumbai | Testnet | 80001 | MATIC | ‚úÖ |
| Avalanche Fuji | Testnet | 43113 | AVAX | ‚úÖ |

---

## üß± Tech Stack

| Layer | Technology |
|-------|-----------|
| Frontend | Next.js 14, React 18, TypeScript |
| Wallet | wagmi v2, viem, MetaMask |
| Backend | Express.js, TypeScript, Multer |
| Blockchain tooling | Hardhat, ethers.js v6 |
| Smart Contracts | Solidity 0.8.x |
| Styling | Pure inline CSS (zero UI lib dependencies) |

---

## ü§ù Contributing

Pull requests are welcome. For major changes, open an issue first to discuss what you'd like to change.

```bash
# Fork the repo, then:
git checkout -b feature/your-attack-vector
git commit -m "feat: add flash loan attack simulation"
git push origin feature/your-attack-vector
# Open a PR
```

Ideas for new attack vectors:
- [ ] Flash loan price manipulation
- [ ] Sandwich attack simulation
- [ ] Selfdestruct / forceful ETH injection
- [ ] Signature replay attacks
- [ ] Front-running simulation

---

## ‚ö†Ô∏è Disclaimer

Secure.sol is built for **educational and security research purposes only**. Only test contracts you own or have explicit written permission to test. Never run attack scripts against mainnet contracts or contracts you do not own. The authors accept no liability for misuse.

---

## üìÑ License

MIT ¬© 2025

---

<div align="center">

Built with üî• at **MakeATon 2025** by developers who got rugged one too many times

<br/>

**If this helped you secure a contract, drop a ‚≠ê ‚Äî it means a lot**

</div>
